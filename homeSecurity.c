#include <stdio.h>

void s1() { // disarmed, inputs = 0,0
    printf("       ______________________________________________________________\n");
    printf("     .'  __________________________________________________________  '.\n");
    printf("     : .'                                                          '. :\n");
    printf("     | |      ________________________________________________      | |\n");
    printf("     | |    .:\033[0;40mðŸ”´ ðŸŸ¡ ðŸŸ¢                                      \033[m:.    | |\n");
    printf("     | |    |\033[0;47m                                                  \033[m|    | |\n");
    printf("     | |    |\033[0;34;47mrafioliÂ® Security Systems                         \033[m|    | |\n");
    printf("     | |    |\033[0;34;47mKeeping you safe since 2004.                      \033[m|    | |\n");
    printf("     | |    |\033[0;47m                                                  \033[m|    | |\n");
    printf("     | |    |\033[0;34;47m             The system is currently:             \033[m|    | |\n");
    printf("     | |    |\033[0;47m                                                  \033[m|    | |\n");
    printf("     | |    |\033[0;47m                   \033[0;40m.:â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾:.\033[0;47m                   \033[m|    | |\n");
    printf("     | |    |\033[0;47m                   \033[0;40m| \033[0;31mDISARMED\033[m\033[0;40m |\033[0;47m                   \033[m|    | |\n");
    printf("     | |    |\033[0;47m                   \033[0;40m':________:'\033[0;47m                   \033[m|    | |\n");
    printf("     | |    |\033[0;47m                                                  \033[m|    | |\n");
    printf("     | |    |\033[0;34;47mDoor  : \033[1;32;47mLOCKED                                    \033[m|    | |\n");
    printf("     | |    |\033[0;34;47mSensor: \033[1;32;47mNo motion has been detected               \033[m|    | |\n");
    printf("     | |    |\033[0;47m                                                  \033[m|    | |\n");
    printf("     | |    '\033[0;47m.________________________________________________.\033[m'    | |\n");
    printf("     | |                                                            | |\n");
    printf("     | |                            \033[1;36miMac\033[m                            | |\n");
    printf("     : '.__________________________________________________________.' :\n");
    printf("      \".____________________________\\__/____________________________.\"\n");
    printf("                                     ||\n");
    printf("                                     ||\n");
    printf("                                     ||\n");
    printf("                                  ___||___\n");
    printf("                            _.--\"   \"   \"   \"--._\n");
}

void s2() { // armed, inputs = 0,0
    printf("       ______________________________________________________________\n");
    printf("     .'  __________________________________________________________  '.\n");
    printf("     : .'                                                          '. :\n");
    printf("     | |      ________________________________________________      | |\n");
    printf("     | |    .:\033[0;40mðŸ”´ ðŸŸ¡ ðŸŸ¢                                      \033[m:.    | |\n");
    printf("     | |    |\033[0;47m                                                  \033[m|    | |\n");
    printf("     | |    |\033[0;34;47mrafioliÂ® Security Systems                         \033[m|    | |\n");
    printf("     | |    |\033[0;34;47mKeeping you safe since 2004.                      \033[m|    | |\n");
    printf("     | |    |\033[0;47m                                                  \033[m|    | |\n");
    printf("     | |    |\033[0;34;47m             The system is currently:             \033[m|    | |\n");
    printf("     | |    |\033[0;47m                                                  \033[m|    | |\n");
    printf("     | |    |\033[0;47m                   \033[0;40m.:â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾:.\033[0;47m                   \033[m|    | |\n");
    printf("     | |    |\033[0;47m                   \033[0;40m|   \033[0;32mARMED\033[m\033[0;40m  |\033[0;47m                   \033[m|    | |\n");
    printf("     | |    |\033[0;47m                   \033[0;40m':________:'\033[0;47m                   \033[m|    | |\n");
    printf("     | |    |\033[0;47m                                                  \033[m|    | |\n");
    printf("     | |    |\033[0;34;47mDoor  : \033[1;32;47mLOCKED                                    \033[m|    | |\n");
    printf("     | |    |\033[0;34;47mSensor: \033[1;32;47mNo motion has been detected               \033[m|    | |\n");
    printf("     | |    |\033[0;47m                                                  \033[m|    | |\n");
    printf("     | |    '\033[0;47m.________________________________________________.\033[m'    | |\n");
    printf("     | |                                                            | |\n");
    printf("     | |                            \033[1;36miMac\033[m                            | |\n");
    printf("     : '.__________________________________________________________.' :\n");
    printf("      \".____________________________\\__/____________________________.\"\n");
    printf("                                     ||\n");
    printf("                                     ||\n");
    printf("                                     ||\n");
    printf("                                  ___||___\n");
    printf("                            _.--\"   \"   \"   \"--._\n");
}

void s3() { // armed, inputs = 0,1
    printf("       ______________________________________________________________\n");
    printf("     .'  __________________________________________________________  '.\n");
    printf("     : .'                                                          '. :\n");
    printf("     | |      ________________________________________________      | |\n");
    printf("     | |    .:\033[0;40mðŸ”´ ðŸŸ¡ ðŸŸ¢                                      \033[m:.    | |\n");
    printf("     | |    |\033[0;47m                                                  \033[m|    | |\n");
    printf("     | |    |\033[0;34;47mrafioliÂ® Security Systems                         \033[m|    | |\n");
    printf("     | |    |\033[0;34;47mKeeping you safe since 2004.                      \033[m|    | |\n");
    printf("     | |    |\033[0;47m                                                  \033[m|    | |\n");
    printf("     | |    |\033[0;34;47m             The system is currently:             \033[m|    | |\n");
    printf("     | |    |\033[0;47m                                                  \033[m|    | |\n");
    printf("     | |    |\033[0;47m                   \033[0;40m.:â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾:.\033[0;47m                   \033[m|    | |\n");
    printf("     | |    |\033[0;47m                   \033[0;40m|   \033[0;32mARMED\033[m\033[0;40m  |\033[0;47m                   \033[m|    | |\n");
    printf("     | |    |\033[0;47m                   \033[0;40m':________:'\033[0;47m                   \033[m|    | |\n");
    printf("     | |    |\033[0;47m                                                  \033[m|    | |\n");
    printf("     | |    |\033[0;34;47mDoor  : \033[1;32;47mLOCKED                                    \033[m|    | |\n");
    printf("     | |    |\033[0;34;47mSensor: \033[1;31;47mMotion has been detected                  \033[m|    | |\n");
    printf("     | |    |\033[0;47m                                                  \033[m|    | |\n");
    printf("     | |    '\033[0;47m.________________________________________________.\033[m'    | |\n");
    printf("     | |                                                            | |\n");
    printf("     | |                            \033[1;36miMac\033[m                            | |\n");
    printf("     : '.__________________________________________________________.' :\n");
    printf("      \".____________________________\\__/____________________________.\"\n");
    printf("                                     ||\n");
    printf("                                     ||\n");
    printf("                                     ||\n");
    printf("                                  ___||___\n");
    printf("                            _.--\"   \"   \"   \"--._\n");
}

void s4() { // armed, inputs = 1,0
    printf("       ______________________________________________________________\n");
    printf("     .'  __________________________________________________________  '.\n");
    printf("     : .'                                                          '. :\n");
    printf("     | |      ________________________________________________      | |\n");
    printf("     | |    .:\033[0;40mðŸ”´ ðŸŸ¡ ðŸŸ¢                                      \033[m:.    | |\n");
    printf("     | |    |\033[0;47m                                                  \033[m|    | |\n");
    printf("     | |    |\033[0;34;47mrafioliÂ® Security Systems                         \033[m|    | |\n");
    printf("     | |    |\033[0;34;47mKeeping you safe since 2004.                      \033[m|    | |\n");
    printf("     | |    |\033[0;47m                                                  \033[m|    | |\n");
    printf("     | |    |\033[0;34;47m             The system is currently:             \033[m|    | |\n");
    printf("     | |    |\033[0;47m                                                  \033[m|    | |\n");
    printf("     | |    |\033[0;47m                   \033[0;40m.:â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾:.\033[0;47m                   \033[m|    | |\n");
    printf("     | |    |\033[0;47m                   \033[0;40m|   \033[0;32mARMED\033[m\033[0;40m  |\033[0;47m                   \033[m|    | |\n");
    printf("     | |    |\033[0;47m                   \033[0;40m':________:'\033[0;47m                   \033[m|    | |\n");
    printf("     | |    |\033[0;47m                                                  \033[m|    | |\n");
    printf("     | |    |\033[0;34;47mDoor  : \033[1;31;47mUNLOCKED                                  \033[m|    | |\n");
    printf("     | |    |\033[0;34;47mSensor: \033[1;32;47mMotion has not been detected              \033[m|    | |\n");
    printf("     | |    |\033[0;47m                                                  \033[m|    | |\n");
    printf("     | |    '\033[0;47m.________________________________________________.\033[m'    | |\n");
    printf("     | |                                                            | |\n");
    printf("     | |                            \033[1;36miMac\033[m                            | |\n");
    printf("     : '.__________________________________________________________.' :\n");
    printf("      \".____________________________\\__/____________________________.\"\n");
    printf("                                     ||\n");
    printf("                                     ||\n");
    printf("                                     ||\n");
    printf("                                  ___||___\n");
    printf("                            _.--\"   \"   \"   \"--._\n");
}

void s5() { // armed, inputs = 1,1
    printf("       ______________________________________________________________\n");
    printf("     .'  __________________________________________________________  '.\n");
    printf("     : .'                                                          '. :\n");
    printf("     | |      ________________________________________________      | |\n");
    printf("     | |    .:\033[0;40mðŸ”´ ðŸŸ¡ ðŸŸ¢                                      \033[m:.    | |\n");
    printf("     | |    |\033[0;47m                                                  \033[m|    | |\n");
    printf("     | |    |\033[0;34;47mrafioliÂ® Security Systems                         \033[m|    | |\n");
    printf("     | |    |\033[0;34;47mKeeping you safe since 2004.                      \033[m|    | |\n");
    printf("     | |    |\033[0;47m                                                  \033[m|    | |\n");
    printf("     | |    |\033[0;34;47m             The system is currently:             \033[m|    | |\n");
    printf("     | |    |\033[0;47m                                                  \033[m|    | |\n");
    printf("     | |    |\033[0;47m                   \033[0;40m.:â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾:.\033[0;47m                   \033[m|    | |\n");
    printf("     | |    |\033[0;47m                   \033[0;40m|   \033[0;32mARMED\033[m\033[0;40m  |\033[0;47m                   \033[m|    | |\n");
    printf("     | |    |\033[0;47m                   \033[0;40m':________:'\033[0;47m                   \033[m|    | |\n");
    printf("     | |    |\033[0;47m                                                  \033[m|    | |\n");
    printf("     | |    |\033[0;34;47mDoor  : \033[1;31;47mUNLOCKED                                  \033[m|    | |\n");
    printf("     | |    |\033[0;34;47mSensor: \033[1;31;47mMotion has been detected                  \033[m|    | |\n");
    printf("     | |    |\033[0;47m                                                  \033[m|    | |\n");
    printf("     | |    '\033[0;47m.________________________________________________.\033[m'    | |\n");
    printf("     | |                                                            | |\n");
    printf("     | |                            \033[1;36miMac\033[m                            | |\n");
    printf("     : '.__________________________________________________________.' :\n");
    printf("      \".____________________________\\__/____________________________.\"\n");
    printf("                                     ||\n");
    printf("                                     ||\n");
    printf("                                     ||\n");
    printf("                                  ___||___\n");
    printf("                            _.--\"   \"   \"   \"--._\n");
}

void s6() { // triggered, inputs = 0,1
    printf("       ______________________________________________________________\n");
    printf("     .'  __________________________________________________________  '.\n");
    printf("     : .'                                                          '. :\n");
    printf("     | |      ________________________________________________      | |\n");
    printf("     | |    .:\033[0;40mðŸ”´ ðŸŸ¡ ðŸŸ¢                                      \033[m:.    | |\n");
    printf("     | |    |\033[0;47m                                                  \033[m|    | |\n");
    printf("     | |    |\033[0;34;47mrafioliÂ® Security Systems                         \033[m|    | |\n");
    printf("     | |    |\033[0;34;47mKeeping you safe since 2004.                      \033[m|    | |\n");
    printf("     | |    |\033[0;47m                                                  \033[m|    | |\n");
    printf("     | |    |\033[1;31;47m                 \033[1;4mALARM TRIGGERED!!\033[m\033[1;47m                \033[m|    | |\n");
    printf("     | |    |\033[0;47m                                                  \033[m|    | |\n");
    printf("     | |    |\033[1;31;47m            Security has been notified.           \033[m|    | |\n");
    printf("     | |    |\033[1;31;47m           Arm yourself immediately and           \033[m|    | |\n");
    printf("     | |    |\033[1;31;47m                stay out of sight.                \033[m|    | |\n");
    printf("     | |    |\033[0;47m                                                  \033[m|    | |\n");
    printf("     | |    |\033[0;34;47mDoor  : \033[1;32;47mLOCKED                                    \033[m|    | |\n");
    printf("     | |    |\033[0;34;47mSensor: \033[1;31;47mMotion has been detected                  \033[m|    | |\n");
    printf("     | |    |\033[0;47m                                                  \033[m|    | |\n");
    printf("     | |    '\033[0;47m.________________________________________________.\033[m'    | |\n");
    printf("     | |                                                            | |\n");
    printf("     | |                            \033[1;31miMac\033[m                            | |\n");
    printf("     : '.__________________________________________________________.' :\n");
    printf("      \".____________________________\\__/____________________________.\"\n");
    printf("                                     ||\n");
    printf("                                     ||\n");
    printf("                                     ||\n");
    printf("                                  ___||___\n");
    printf("                            _.--\"   \"   \"   \"--._\n");
}

void s7() { // triggered, inputs = 1,0
    printf("       ______________________________________________________________\n");
    printf("     .'  __________________________________________________________  '.\n");
    printf("     : .'                                                          '. :\n");
    printf("     | |      ________________________________________________      | |\n");
    printf("     | |    .:\033[0;40mðŸ”´ ðŸŸ¡ ðŸŸ¢                                      \033[m:.    | |\n");
    printf("     | |    |\033[0;47m                                                  \033[m|    | |\n");
    printf("     | |    |\033[0;34;47mrafioliÂ® Security Systems                         \033[m|    | |\n");
    printf("     | |    |\033[0;34;47mKeeping you safe since 2004.                      \033[m|    | |\n");
    printf("     | |    |\033[0;47m                                                  \033[m|    | |\n");
    printf("     | |    |\033[1;31;47m                 \033[1;4mALARM TRIGGERED!!\033[m\033[1;47m                \033[m|    | |\n");
    printf("     | |    |\033[0;47m                                                  \033[m|    | |\n");
    printf("     | |    |\033[1;31;47m            Security has been notified.           \033[m|    | |\n");
    printf("     | |    |\033[1;31;47m           Arm yourself immediately and           \033[m|    | |\n");
    printf("     | |    |\033[1;31;47m                stay out of sight.                \033[m|    | |\n");
    printf("     | |    |\033[0;47m                                                  \033[m|    | |\n");
    printf("     | |    |\033[0;34;47mDoor  : \033[1;31;47mUNLOCKED                                  \033[m|    | |\n");
    printf("     | |    |\033[0;34;47mSensor: \033[1;32;47mMotion has not been detected              \033[m|    | |\n");
    printf("     | |    |\033[0;47m                                                  \033[m|    | |\n");
    printf("     | |    '\033[0;47m.________________________________________________.\033[m'    | |\n");
    printf("     | |                                                            | |\n");
    printf("     | |                            \033[1;31miMac\033[m                            | |\n");
    printf("     : '.__________________________________________________________.' :\n");
    printf("      \".____________________________\\__/____________________________.\"\n");
    printf("                                     ||\n");
    printf("                                     ||\n");
    printf("                                     ||\n");
    printf("                                  ___||___\n");
    printf("                            _.--\"   \"   \"   \"--._\n");
}

void s8() { // triggered, inputs = 1,1
    printf("       ______________________________________________________________\n");
    printf("     .'  __________________________________________________________  '.\n");
    printf("     : .'                                                          '. :\n");
    printf("     | |      ________________________________________________      | |\n");
    printf("     | |    .:\033[0;40mðŸ”´ ðŸŸ¡ ðŸŸ¢                                      \033[m:.    | |\n");
    printf("     | |    |\033[0;47m                                                  \033[m|    | |\n");
    printf("     | |    |\033[0;34;47mrafioliÂ® Security Systems                         \033[m|    | |\n");
    printf("     | |    |\033[0;34;47mKeeping you safe since 2004.                      \033[m|    | |\n");
    printf("     | |    |\033[0;47m                                                  \033[m|    | |\n");
    printf("     | |    |\033[1;31;47m                 \033[1;4mALARM TRIGGERED!!\033[m\033[1;47m                \033[m|    | |\n");
    printf("     | |    |\033[0;47m                                                  \033[m|    | |\n");
    printf("     | |    |\033[1;31;47m            Security has been notified.           \033[m|    | |\n");
    printf("     | |    |\033[1;31;47m           Arm yourself immediately and           \033[m|    | |\n");
    printf("     | |    |\033[1;31;47m                stay out of sight.                \033[m|    | |\n");
    printf("     | |    |\033[0;47m                                                  \033[m|    | |\n");
    printf("     | |    |\033[0;34;47mDoor  : \033[1;31;47mUNLOCKED                                  \033[m|    | |\n");
    printf("     | |    |\033[0;34;47mSensor: \033[1;31;47mMotion has been detected                  \033[m|    | |\n");
    printf("     | |    |\033[0;47m                                                  \033[m|    | |\n");
    printf("     | |    '\033[0;47m.________________________________________________.\033[m'    | |\n");
    printf("     | |                                                            | |\n");
    printf("     | |                            \033[1;31miMac\033[m                            | |\n");
    printf("     : '.__________________________________________________________.' :\n");
    printf("      \".____________________________\\__/____________________________.\"\n");
    printf("                                     ||\n");
    printf("                                     ||\n");
    printf("                                     ||\n");
    printf("                                  ___||___\n");
    printf("                            _.--\"   \"   \"   \"--._\n");
}

int main(void) {
  int state = 0; // 0 = disarmed, 1 = armed, 2 = triggered
  int doorOpen = 0; // 0 = locked, 1 = open
  int motionDetected = 0; // 0 = no motion, 1 = motion detected
  int initialState = 0; // initial state (0 = disarmed, 1 = armed)

  // set initial state
  if(initialState == 0) {
    state = 0;
  }

  // loop indefinitely
  while(1) {
    printf("\033c"); // clear terminal
    printf("\033[1;1H"); // move cursor to upper left

    // update state based on inputs
    if(state == 0) { // disarmed
      if(doorOpen == 0 && motionDetected == 0) {
        state = 0; // system remains disarmed as long as the door is locked
      } else if(doorOpen == 1 || motionDetected == 1){
        state = 1; // arm system if door is open and/or motion is detected
      }
    } else if(state == 1) { // armed
      if(doorOpen == 0 && motionDetected == 0) {
        state = 0; // disarm system if door is locked and no motion is detected
      } else if(doorOpen == 1 && motionDetected == 0) {
        state = 1; // arm system if door is open
      }
      else {
        state = 2; // trigger alarm if motion is detected
      }
    } else if(state == 2) { // triggered
      if(doorOpen == 0 && motionDetected == 0) {
        state = 1; // reset alarm if door is locked and no motion is detected
      } else {
        state = 2; // alarm keeps on ringing until the door is locked and no motion is detected
      } 
    }
    printf("\033[0m");

    // output selector based on state and inputs
    if (state == 0 && doorOpen == 0 && motionDetected == 0) {
      s1();
    } else if (state == 1 && doorOpen == 0 && motionDetected == 0) {
      s2();
    } else if (state == 1 && doorOpen == 0 && motionDetected == 1) {
      s3();
    } else if (state == 1 && doorOpen == 1 && motionDetected == 0) {
      s4();
    } else if (state == 1 && doorOpen == 1 && motionDetected == 1) {
      s5();
    } else if (state == 2 && doorOpen == 0 && motionDetected == 1) {
      s6();
    } else if (state == 2 && doorOpen == 1 && motionDetected == 0) {
      s7();
    } else if (state == 2 && doorOpen == 1 && motionDetected == 1) {
      s8();
    }

    // check for input
    printf("Enter door open status (0 or 1): ");
    scanf("%d", &doorOpen);
    printf("Enter motion detected status (0 or 1): ");
    scanf("%d", &motionDetected);
  }
  

  return 0;
}
